# Video Filter Testing Configuration
# Defines test scenarios, parameters, and quality expectations

test_configuration:
  # Basic test settings
  max_test_duration: 300  # Maximum test duration in seconds
  quality_threshold: 0.8  # Minimum quality score for pass
  performance_threshold: 10.0  # Maximum processing time per second of video
  
  # Output configuration
  results_directory: "/tmp/music/filter_tests"
  generate_preview_videos: true
  preserve_test_artifacts: true
  
  # Test categories to run
  enabled_test_phases:
    - individual_effects
    - category_testing
    - effect_chains
    - performance_benchmarking
    - cross_provider_comparison

# Custom test scenarios for specific effects
custom_test_scenarios:
  
  # Color grading tests
  color_grading_suite:
    - effect: "vintage_color"
      test_cases:
        - name: "subtle_vintage"
          parameters: { intensity: 0.3, warmth: 0.1, saturation: 0.9 }
        - name: "heavy_vintage" 
          parameters: { intensity: 1.8, warmth: 0.4, saturation: 0.7 }
        - name: "cold_vintage"
          parameters: { intensity: 1.0, warmth: -0.3, saturation: 0.8 }
          
    - effect: "warm_cinematic"
      test_cases:
        - name: "orange_teal_classic"
          parameters: { orange_push: 0.15, highlight_cool: -0.1, saturation: 1.2 }
        - name: "subtle_warm"
          parameters: { orange_push: 0.05, midtone_warmth: 0.03, contrast: 1.02 }
          
  # Stylistic effects tests
  stylistic_suite:
    - effect: "vhs_look"
      test_cases:
        - name: "authentic_vhs"
          parameters: { noise_level: 12.0, blur_amount: 0.6, saturation: 0.8 }
        - name: "clean_retro"
          parameters: { noise_level: 3.0, blur_amount: 0.2, saturation: 1.0 }
          
    - effect: "dreamy_soft"
      test_cases:
        - name: "ethereal_dream"
          parameters: { blur_sigma: 2.5, brightness: 0.15, saturation: 0.85 }
        - name: "subtle_softness"
          parameters: { blur_sigma: 0.8, brightness: 0.05, negative_sharpen: -0.1 }

  # Performance stress tests
  performance_stress_tests:
    - effect: "face_blur"
      test_cases:
        - name: "maximum_detection"
          parameters: { blur_strength: 25.0, detection_confidence: 0.3 }
        - name: "conservative_detection"  
          parameters: { blur_strength: 15.0, detection_confidence: 0.8 }
          
    - effect: "gaussian_blur"
      test_cases:
        - name: "extreme_blur"
          parameters: { sigma: 18.0, steps: 8 }
        - name: "quality_blur"
          parameters: { sigma: 8.0, steps: 5 }

# Effect chain combinations to test
effect_chain_scenarios:
  
  cinematic_workflows:
    - name: "hollywood_blockbuster"
      description: "Professional cinema-quality color grading and effects"
      chain:
        - effect: "warm_cinematic"
          parameters: { orange_push: 0.12, highlight_cool: -0.08, contrast: 1.08 }
        - effect: "vignette"
          parameters: { angle: 1.57, x0: 0.5, y0: 0.45 }
        - effect: "gaussian_blur"
          parameters: { sigma: 0.5, steps: 2 }
          
    - name: "noir_classic"  
      description: "Classic film noir with high contrast and vignetting"
      chain:
        - effect: "film_noir"
          parameters: { contrast: 2.2, brightness: -0.15 }
        - effect: "vignette"
          parameters: { angle: 1.57, mode: "forward" }
          
  social_media_workflows:
    - name: "instagram_ready"
      description: "Optimized for Instagram with enhanced colors"
      chain:
        - effect: "social_media_pack"
          parameters: { saturation: 1.4, contrast: 1.3, sharpness: 1.0 }
        - effect: "warm_cinematic"
          parameters: { orange_push: 0.08, saturation: 1.15 }
          
    - name: "tiktok_viral"
      description: "High-impact effects for viral content"
      chain:
        - effect: "social_media_pack"
          parameters: { saturation: 1.5, contrast: 1.4, brightness: 0.1 }
        - effect: "vhs_look"
          parameters: { noise_level: 5.0, blur_amount: 0.3 }
          
  artistic_workflows:
    - name: "glitch_art_master"
      description: "Digital art with chromatic and glitch effects"
      chain:
        - effect: "chromatic_aberration"
          parameters: { red_offset_x: 5, blue_offset_x: -5, intensity: 1.3 }
        - effect: "glitch_aesthetic"
          parameters: { noise_strength: 25.0, red_shift: 4, blue_shift: -4 }
        - effect: "vignette"
          parameters: { angle: 1.57, mode: "backward" }
          
    - name: "dreamy_ethereal"
      description: "Soft, dreamlike atmosphere"
      chain:
        - effect: "dreamy_soft" 
          parameters: { blur_sigma: 1.8, brightness: 0.12, saturation: 0.9 }
        - effect: "warm_cinematic"
          parameters: { midtone_warmth: 0.1, saturation: 1.05 }
          
  horror_workflows:
    - name: "psychological_horror"
      description: "Desaturated, high-contrast horror aesthetic"
      chain:
        - effect: "horror_desaturated"
          parameters: { saturation: 0.25, contrast: 1.6, brightness: -0.15 }
        - effect: "vignette"
          parameters: { angle: 1.57, x0: 0.5, y0: 0.5, mode: "forward" }
        - effect: "gaussian_blur"
          parameters: { sigma: 1.0, steps: 3 }

# Quality assessment criteria
quality_metrics:
  video_integrity:
    - check_duration_preservation: true
    - check_resolution_consistency: true 
    - check_codec_compatibility: true
    - check_audio_preservation: true
    
  visual_quality:
    - check_for_artifacts: true
    - validate_color_ranges: true
    - detect_processing_errors: true
    - measure_file_size_impact: true
    
  performance_metrics:
    - measure_processing_time: true
    - monitor_memory_usage: true
    - track_cpu_utilization: true
    - compare_provider_performance: true

# Provider-specific tests
provider_comparison:
  ffmpeg_vs_opencv:
    test_scenario: "face_detection_accuracy"
    effects_to_compare: ["face_blur"]
    
  ffmpeg_vs_pil:
    test_scenario: "color_manipulation_quality"
    effects_to_compare: ["chromatic_aberration"]
    
# Expected performance benchmarks (baseline for comparison)
performance_baselines:
  fast_effects:  # Should process faster than 0.1s per second of video
    - "vintage_color"
    - "vignette" 
    - "social_media_pack"
    - "warm_cinematic"
    - "horror_desaturated"
    
  medium_effects:  # Should process 0.1-0.5s per second of video
    - "vhs_look"
    - "gaussian_blur"
    - "dreamy_soft" 
    - "glitch_aesthetic"
    - "chromatic_aberration"
    
  slow_effects:  # May process >0.5s per second of video (acceptable)
    - "face_blur"  # AI processing is inherently slower

# Test data sources
test_video_requirements:
  minimum_duration: 3  # seconds
  preferred_resolution: "1080p"
  required_formats: [".mp4", ".avi", ".mov"]
  content_types:
    - "standard_test_video"  # Regular content
    - "face_detection_video"  # Contains faces for face_blur testing
    - "high_motion_video"    # For blur/motion testing
    - "color_rich_video"     # For color grading testing